{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { ActivatedRoute, RouterModule } from '@angular/router';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { OrderService } from '../../core/services/order.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../core/services/order.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nfunction OrderDetailComponent_mat_card_1_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"eco\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\")(4, \"strong\");\n    i0.ɵɵtext(5, \"Sustainability insight\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7, \"This order\\u2019s carbon footprint is \");\n    i0.ɵɵelementStart(8, \"strong\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \". Emission data is stored with your order.\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(10, 1, ctx_r0.order.totalCarbon, \"1.2-2\"), \" kg CO\\u2082e\");\n  }\n}\nfunction OrderDetailComponent_mat_card_1_ul_24_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 17)(1, \"span\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 19);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 20);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    let tmp_6_0;\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.productName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u00D7 \", item_r2.quantity, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(7, 3, (tmp_6_0 = item_r2.carbonImpact) !== null && tmp_6_0 !== undefined ? tmp_6_0 : 0, \"1.2-2\"), \" kg CO\\u2082e/unit\");\n  }\n}\nfunction OrderDetailComponent_mat_card_1_ul_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 15);\n    i0.ɵɵtemplate(1, OrderDetailComponent_mat_card_1_ul_24_li_1_Template, 8, 6, \"li\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.order.items);\n  }\n}\nfunction OrderDetailComponent_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 5)(1, \"mat-card-header\")(2, \"mat-card-title\");\n    i0.ɵɵtext(3, \"Order confirmed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-subtitle\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"mat-card-content\");\n    i0.ɵɵtemplate(8, OrderDetailComponent_mat_card_1_div_8_Template, 12, 4, \"div\", 6);\n    i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"span\");\n    i0.ɵɵtext(12, \"Total price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"strong\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 9)(17, \"span\");\n    i0.ɵɵtext(18, \"Total carbon footprint\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"strong\", 10);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"number\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"h3\");\n    i0.ɵɵtext(23, \"Items\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, OrderDetailComponent_mat_card_1_ul_24_Template, 2, 1, \"ul\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"mat-card-actions\")(26, \"button\", 12);\n    i0.ɵɵtext(27, \"Continue shopping\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 13);\n    i0.ɵɵtext(29, \"My dashboard\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    let tmp_3_0;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"Order #\", ctx_r0.order.id, \" \\u00B7 \", i0.ɵɵpipeBind2(6, 6, ctx_r0.order.orderDate, \"medium\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.order.totalCarbon != null);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(15, 9, (tmp_3_0 = ctx_r0.order.totalPrice) !== null && tmp_3_0 !== undefined ? tmp_3_0 : 0, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(21, 12, ctx_r0.order.totalCarbon, \"1.2-2\"), \" kg CO\\u2082e\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.order.items == null ? null : ctx_r0.order.items.length);\n  }\n}\nfunction OrderDetailComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtext(1, \"Loading order...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrderDetailComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\nfunction OrderDetailComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1, \"Order not found.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let OrderDetailComponent = /*#__PURE__*/(() => {\n  class OrderDetailComponent {\n    constructor(route, orderService) {\n      this.route = route;\n      this.orderService = orderService;\n      this.order = null;\n      this.isLoading = false;\n      this.errorMessage = '';\n    }\n    ngOnInit() {\n      const id = this.route.snapshot.paramMap.get('id');\n      if (id) {\n        this.isLoading = true;\n        this.orderService.getOrderById(+id).subscribe({\n          next: data => {\n            this.order = data;\n            this.isLoading = false;\n          },\n          error: err => {\n            this.errorMessage = err.error?.message || 'Failed to load order';\n            this.isLoading = false;\n          }\n        });\n      }\n    }\n    static {\n      this.ɵfac = function OrderDetailComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || OrderDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.OrderService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: OrderDetailComponent,\n        selectors: [[\"app-order-detail\"]],\n        decls: 5,\n        vars: 4,\n        consts: [[1, \"order-detail-container\"], [\"class\", \"order-card\", 4, \"ngIf\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [\"class\", \"not-found\", 4, \"ngIf\"], [1, \"order-card\"], [\"class\", \"sustainability-insight\", 4, \"ngIf\"], [1, \"order-summary\"], [1, \"summary-row\"], [1, \"summary-row\", \"carbon-row\"], [1, \"carbon-total\"], [\"class\", \"order-items\", 4, \"ngIf\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"routerLink\", \"/products\"], [\"mat-button\", \"\", \"routerLink\", \"/dashboard\"], [1, \"sustainability-insight\"], [1, \"order-items\"], [\"class\", \"order-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"order-item\"], [1, \"item-name\"], [1, \"item-qty\"], [1, \"item-carbon\"], [1, \"loading\"], [1, \"error-message\"], [1, \"not-found\"]],\n        template: function OrderDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵtemplate(1, OrderDetailComponent_mat_card_1_Template, 30, 15, \"mat-card\", 1)(2, OrderDetailComponent_div_2_Template, 2, 0, \"div\", 2)(3, OrderDetailComponent_div_3_Template, 2, 1, \"div\", 3)(4, OrderDetailComponent_div_4_Template, 2, 0, \"div\", 4);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.order);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && ctx.errorMessage);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.isLoading && !ctx.order && !ctx.errorMessage);\n          }\n        },\n        dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.DecimalPipe, i3.DatePipe, RouterModule, i1.RouterLink, MatCardModule, i4.MatCard, i4.MatCardActions, i4.MatCardContent, i4.MatCardHeader, i4.MatCardSubtitle, i4.MatCardTitle, MatButtonModule, i5.MatButton, MatIconModule, i6.MatIcon],\n        styles: [\".order-detail-container[_ngcontent-%COMP%]{padding:24px;max-width:700px;margin:0 auto}.order-card[_ngcontent-%COMP%]{padding:24px}.sustainability-insight[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-start;background:#e8f5e9;border:1px solid #c8e6c9;border-radius:8px;padding:16px;margin-bottom:24px}.sustainability-insight[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2e7d32;font-size:32px;width:32px;height:32px}.sustainability-insight[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0 0;color:#333}.order-summary[_ngcontent-%COMP%]{border-top:1px solid #eee;padding-top:16px;margin-bottom:24px}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0}.carbon-row[_ngcontent-%COMP%]{border-top:1px solid #eee;margin-top:8px;padding-top:8px}.carbon-total[_ngcontent-%COMP%]{color:#2e7d32}.order-items[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 24px}.order-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:8px 0;border-bottom:1px solid #f0f0f0}.item-name[_ngcontent-%COMP%]{flex:1}.item-qty[_ngcontent-%COMP%]{color:#666}.item-carbon[_ngcontent-%COMP%]{color:#2e7d32;font-size:13px}.loading[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .not-found[_ngcontent-%COMP%]{text-align:center;padding:40px}.error-message[_ngcontent-%COMP%]{color:#c62828}\"]\n      });\n    }\n  }\n  return OrderDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
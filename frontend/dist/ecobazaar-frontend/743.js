"use strict";(self.webpackChunkecobazaar=self.webpackChunkecobazaar||[]).push([[743],{1743:(M,a,n)=>{n.r(a),n.d(a,{ProductDetailComponent:()=>E});var e=n(2881),l=n(5207),d=n(5596),s=n(8834),p=n(6471),g=n(7359),_=n(6042),t=n(1360),m=n(2852);function P(c,u){1&c&&(t.j41(0,"mat-chip",18),t.EFF(1," Eco Certified "),t.k0s())}function C(c,u){if(1&c){const o=t.RV6();t.j41(0,"div",2)(1,"mat-card",3)(2,"div",4)(3,"div",5),t.nrm(4,"img",6),t.k0s(),t.j41(5,"div",7)(6,"h1"),t.EFF(7),t.k0s(),t.j41(8,"p",8),t.EFF(9),t.k0s(),t.j41(10,"p",9),t.EFF(11),t.k0s(),t.j41(12,"div",10)(13,"div",11)(14,"span",12),t.EFF(15),t.nI1(16,"number"),t.k0s()(),t.j41(17,"div",13)(18,"mat-chip"),t.EFF(19),t.k0s(),t.DNE(20,P,2,0,"mat-chip",14),t.k0s(),t.j41(21,"div",15)(22,"p"),t.EFF(23),t.k0s()()(),t.j41(24,"div",16)(25,"button",17),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.addToCart())}),t.EFF(26," Add to Cart "),t.k0s()()()()()()}if(2&c){const o=t.XpG();t.R7$(4),t.Y8G("src",o.product.imageUrl||"https://via.placeholder.com/500",t.B4B)("alt",o.product.name),t.R7$(3),t.JRh(o.product.name),t.R7$(2),t.JRh(o.product.category),t.R7$(2),t.JRh(o.product.description),t.R7$(4),t.SpI("$",t.i5U(16,12,o.product.price,"1.2-2"),""),t.R7$(3),t.xc7("background-color",o.getEcoRatingColor(o.product.ecoRating)),t.R7$(),t.SpI(" Carbon Impact: ",o.product.carbonImpact," kg CO\u2082e "),t.R7$(),t.Y8G("ngIf",o.product.ecoCertified),t.R7$(3),t.SpI("Stock: ",o.product.stockQuantity," available"),t.R7$(2),t.Y8G("disabled",0===o.product.stockQuantity)}}function O(c,u){1&c&&(t.j41(0,"div",19)(1,"p"),t.EFF(2,"Loading product details..."),t.k0s()())}let E=(()=>{class c{constructor(o,r,i){this.route=o,this.productService=r,this.cartService=i,this.product=null,this.isLoading=!1}ngOnInit(){const o=this.route.snapshot.paramMap.get("id");o&&this.loadProduct(Number(o))}loadProduct(o){this.isLoading=!0,this.productService.getProductById(o).subscribe({next:r=>{this.product=r,this.isLoading=!1},error:r=>{console.error("Error loading product:",r),this.isLoading=!1}})}addToCart(){this.product&&this.cartService.addToCart(this.product.id,1).subscribe({next:()=>{console.log("Product added to cart")},error:o=>{console.error("Error adding to cart:",o)}})}getEcoRatingColor(o){switch(o){case"EXCELLENT":return"green";case"GOOD":return"blue";case"FAIR":return"orange";case"POOR":return"red";default:return"gray"}}static{this.\u0275fac=function(r){return new(r||c)(t.rXU(m.nX),t.rXU(g.b),t.rXU(_.m))}}static{this.\u0275cmp=t.VBU({type:c,selectors:[["app-product-detail"]],decls:2,vars:2,consts:[["class","product-detail-container",4,"ngIf"],["class","loading",4,"ngIf"],[1,"product-detail-container"],[1,"product-card"],[1,"product-content"],[1,"product-image-section"],[1,"product-image",3,"src","alt"],[1,"product-info-section"],[1,"category"],[1,"description"],[1,"product-details"],[1,"price-section"],[1,"price"],[1,"carbon-section"],["color","primary",4,"ngIf"],[1,"stock-info"],[1,"actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["color","primary"],[1,"loading"]],template:function(r,i){1&r&&t.DNE(0,C,27,15,"div",0)(1,O,3,0,"div",1),2&r&&(t.Y8G("ngIf",i.product),t.R7$(),t.Y8G("ngIf",i.isLoading))},dependencies:[e.MD,e.bT,e.QX,l.iI,d.Hu,d.RN,s.Hl,s.$z,p.YN,p.Jl],styles:[".product-detail-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.product-card[_ngcontent-%COMP%]{padding:20px}.product-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}.product-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px}.product-info-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:0;color:#2c3e50}.product-info-section[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{color:#666;font-size:14px;text-transform:uppercase}.product-info-section[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:20px 0;line-height:1.6}.product-details[_ngcontent-%COMP%]{margin:30px 0}.product-details[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]{margin-bottom:20px}.product-details[_ngcontent-%COMP%]   .price-section[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#2c3e50}.product-details[_ngcontent-%COMP%]   .carbon-section[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}.product-details[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]{margin-top:20px;color:#666}.actions[_ngcontent-%COMP%]{margin-top:30px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;font-size:18px;color:#666}@media (max-width: 768px){.product-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return c})()}}]);